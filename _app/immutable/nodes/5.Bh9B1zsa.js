import"../chunks/Bzak7iHL.js";import"../chunks/C0jydcuF.js";import{aa as H,O as I,t as L,a0 as M,ab as N,ac as Q,p as R,R as T,T as V,j as z,k as n,l as B,o as k,w as v,g as l,q as C,v as D,b as E,m as G,ad as F,s as J,ae as K,x as _,V as P}from"../chunks/CzeeUJ4l.js";import{e as O,a as U}from"../chunks/CCsB5Ltp.js";import{b as W,r as X}from"../chunks/CuZ2xFeJ.js";import{i as Y}from"../chunks/BtmKnTaH.js";import{s as Z,a as ee}from"../chunks/BoYXwtll.js";import{s as y}from"../chunks/CvscirO1.js";function j(e,a,o=!1){if(e.multiple){if(a==null)return;if(!M(a))return N();for(var i of e.options)i.selected=a.includes(f(i));return}for(i of e.options){var r=f(i);if(Q(r,a)){i.selected=!0;return}}(!o||a!==void 0)&&(e.selectedIndex=-1)}function te(e){var a=new MutationObserver(()=>{j(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),L(()=>{a.disconnect()})}function ae(e,a,o=a){var i=!0;H(e,"change",r=>{var t=r?"[selected]":":checked",u;if(e.multiple)u=[].map.call(e.querySelectorAll(t),f);else{var p=e.querySelector(t)??e.querySelector("option:not([disabled])");u=p&&f(p)}o(u)}),I(()=>{var r=a();if(j(e,r,i),i&&r===void 0){var t=e.querySelector(":checked");t!==null&&(r=f(t),o(r))}e.__value=r,i=!1}),te(e)}function f(e){return"__value"in e?e.__value:e.value}var ie=z('<h2>Settings</h2> <section><label>Quality <select><option>low</option><option>medium</option><option>high</option><option>ultra</option></select></label></section> <section><label>Steering sensitivity <input type="range" min="0.4" max="2" step="0.05"/> <span> </span></label> <p style="opacity:0.8;margin-top:6px;">Higher values increase how fast the car turns for the same input.</p></section>',1);function _e(e,a){R(a,!1);const o=()=>ee(y,"$settings",i),[i,r]=Z(),t=G();T(()=>o(),()=>{J(t,o())}),V(),Y();var u=ie(),p=n(B(u),2),x=v(p),m=n(v(x));k(()=>{l(t),K(()=>{})});var g=v(m);g.value=g.__value="low";var h=n(g);h.value=h.__value="medium";var b=n(h);b.value=b.__value="high";var q=n(b);q.value=q.__value="ultra",_(m),_(x),_(p);var $=n(p,2),w=v($),d=n(v(w));X(d);var S=n(d,2),A=v(S);_(S),_(w),P(2),_($),k(s=>U(A,`${s??""}x`),[()=>(l(t),E(()=>l(t).controls.sensitivity.toFixed(2)))]),ae(m,()=>l(t).graphics.quality,s=>F(t,l(t).graphics.quality=s)),O("change",m,s=>y.update(c=>({...c,graphics:{...c.graphics,quality:s.target.value}}))),W(d,()=>l(t).controls.sensitivity,s=>F(t,l(t).controls.sensitivity=s)),O("input",d,s=>y.update(c=>({...c,controls:{...c.controls,sensitivity:Number(s.target.value)}}))),C(e,u),D(),r()}export{_e as component};
