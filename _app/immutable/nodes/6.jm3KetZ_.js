import"../chunks/Bzak7iHL.js";import"../chunks/DrS1WK7l.js";import{_ as I,e as L,t as M,O as N,$ as Q,a0 as j,a1 as z,a2 as B,a3 as C,a4 as D,a5 as n,a6 as E,a7 as k,a8 as v,w as l,a9 as G,aa as J,u as K,v as P,ab as F,x as R,ac as T,ad as _,ae as U}from"../chunks/BaFMXX1b.js";import{e as O,a as V}from"../chunks/CcETWVYL.js";import{b as W,r as X}from"../chunks/DNx_qbyC.js";import{i as Y}from"../chunks/BDHLh8UG.js";import{s as Z,a as ee}from"../chunks/23JgfLWk.js";import{s as y}from"../chunks/DSzE6Y4I.js";function A(e,t,o=!1){if(e.multiple){if(t==null)return;if(!N(t))return Q();for(var i of e.options)i.selected=t.includes(f(i));return}for(i of e.options){var r=f(i);if(j(r,t)){i.selected=!0;return}}(!o||t!==void 0)&&(e.selectedIndex=-1)}function ae(e){var t=new MutationObserver(()=>{A(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),M(()=>{t.disconnect()})}function te(e,t,o=t){var i=!0;I(e,"change",r=>{var a=r?"[selected]":":checked",u;if(e.multiple)u=[].map.call(e.querySelectorAll(a),f);else{var p=e.querySelector(a)??e.querySelector("option:not([disabled])");u=p&&f(p)}o(u)}),L(()=>{var r=t();if(A(e,r,i),i&&r===void 0){var a=e.querySelector(":checked");a!==null&&(r=f(a),o(r))}e.__value=r,i=!1}),ae(e)}function f(e){return"__value"in e?e.__value:e.value}var ie=D('<h2>Settings</h2> <section><label>Quality <select><option>low</option><option>medium</option><option>high</option><option>ultra</option></select></label></section> <section><label>Steering sensitivity <input type="range" min="0.4" max="2" step="0.05"/> <span> </span></label> <p style="opacity:0.8;margin-top:6px;">Higher values increase how fast the car turns for the same input.</p></section>',1);function _e(e,t){z(t,!1);const o=()=>ee(y,"$settings",i),[i,r]=Z(),a=P();B(()=>o(),()=>{R(a,o())}),C(),Y();var u=ie(),p=n(E(u),2),x=v(p),m=n(v(x));k(()=>{l(a),T(()=>{})});var g=v(m);g.value=g.__value="low";var h=n(g);h.value=h.__value="medium";var b=n(h);b.value=b.__value="high";var q=n(b);q.value=q.__value="ultra",_(m),_(x),_(p);var $=n(p,2),w=v($),d=n(v(w));X(d);var S=n(d,2),H=v(S);_(S),_(w),U(2),_($),k(s=>V(H,`${s??""}x`),[()=>(l(a),K(()=>l(a).controls.sensitivity.toFixed(2)))]),te(m,()=>l(a).graphics.quality,s=>F(a,l(a).graphics.quality=s)),O("change",m,s=>y.update(c=>({...c,graphics:{...c.graphics,quality:s.target.value}}))),W(d,()=>l(a).controls.sensitivity,s=>F(a,l(a).controls.sensitivity=s)),O("input",d,s=>y.update(c=>({...c,controls:{...c.controls,sensitivity:Number(s.target.value)}}))),G(e,u),J(),r()}export{_e as component};
