import{y as V,ay as O,G as B,e as M,w as A,a4 as K,a7 as J,an as Z,az as Q,aA as W,aB as X,b as m,aC as x,C as P,aD as aa,U as ea,aE as ra,aF as sa,aG as ia,aH as ta,aI as ua,aJ as fa}from"./BLUA93ud.js";import{i as la,c as oa,d as ca,n as na,b as _a}from"./DJBBIPgZ.js";import{t as va,c as da,s as ba}from"./CSpWFTOk.js";function ha(a,r){var e=void 0,i;V(()=>{e!==(e=r())&&(i&&(O(i),i=null),e&&(i=B(()=>{M(()=>e(a))})))})}function ya(a,r,e,i,s,f){var n=a.__className;if(A||n!==e||n===void 0){var h=va(e,i,f);(!A||h!==a.getAttribute("class"))&&(h==null?a.removeAttribute("class"):r?a.className=h:a.setAttribute("class",h)),a.__className=e}else if(f&&s!==f)for(var l in f){var v=!!f[l];(s==null||v!==!!s[l])&&a.classList.toggle(l,v)}return f}function w(a,r,e=!1){if(a.multiple){if(r==null)return;if(!Z(r))return Q();for(var i of a.options)i.selected=r.includes(T(i));return}for(i of a.options){var s=T(i);if(W(s,r)){i.selected=!0;return}}(!e||r!==void 0)&&(a.selectedIndex=-1)}function D(a){var r=new MutationObserver(()=>{w(a,a.__value)});r.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),J(()=>{r.disconnect()})}function Ia(a,r,e=r){var i=!0;K(a,"change",s=>{var f=s?"[selected]":":checked",n;if(a.multiple)n=[].map.call(a.querySelectorAll(f),T);else{var h=a.querySelector(f)??a.querySelector("option:not([disabled])");n=h&&T(h)}e(n)}),M(()=>{var s=r();if(w(a,s,i),i&&s===void 0){var f=a.querySelector(":checked");f!==null&&(s=T(f),e(s))}a.__value=s,i=!1}),D(a)}function T(a){return"__value"in a?a.__value:a.value}const E=Symbol("class"),I=Symbol("style"),G=Symbol("is custom element"),R=Symbol("is html");function ga(a){if(A){var r=!1,e=()=>{if(!r){if(r=!0,a.hasAttribute("value")){var i=a.value;L(a,"value",null),a.value=i}if(a.hasAttribute("checked")){var s=a.checked;L(a,"checked",null),a.checked=s}}};a.__on_r=e,ra(e),sa()}}function Aa(a,r){r?a.hasAttribute("selected")||a.setAttribute("selected",""):a.removeAttribute("selected")}function L(a,r,e,i){var s=Y(a);A&&(s[r]=a.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&a.nodeName==="LINK")||s[r]!==(s[r]=e)&&(r==="loading"&&(a[ua]=e),e==null?a.removeAttribute(r):typeof e!="string"&&j(a).includes(r)?a[r]=e:a.setAttribute(r,e))}function Sa(a,r,e,i,s=!1,f=!1){if(A&&s&&a.tagName==="INPUT"){var n=a,h=n.type==="checkbox"?"defaultChecked":"defaultValue";h in e||ga(n)}var l=Y(a),v=l[G],p=!l[R];let S=A&&v;S&&P(!1);var o=r||{},y=a.tagName==="OPTION";for(var N in r)N in e||(e[N]=null);e.class?e.class=da(e.class):e[E]&&(e.class=null),e[I]&&(e.style??(e.style=null));var k=j(a);for(const t in e){let u=e[t];if(y&&t==="value"&&u==null){a.value=a.__value="",o[t]=u;continue}if(t==="class"){var b=a.namespaceURI==="http://www.w3.org/1999/xhtml";ya(a,b,u,i,r==null?void 0:r[E],e[E]),o[t]=u,o[E]=e[E];continue}if(t==="style"){ba(a,u,r==null?void 0:r[I],e[I]),o[t]=u,o[I]=e[I];continue}var q=o[t];if(!(u===q&&!(u===void 0&&a.hasAttribute(t)))){o[t]=u;var U=t[0]+t[1];if(U!=="$$")if(U==="on"){const d={},g="$$"+t;let c=t.slice(2);var C=_a(c);if(la(c)&&(c=c.slice(0,-7),d.capture=!0),!C&&q){if(u!=null)continue;a.removeEventListener(c,o[g],d),o[g]=null}if(u!=null)if(C)a[`__${c}`]=u,ca([c]);else{let z=function(F){o[t].call(this,F)};o[g]=oa(c,a,z,d)}else C&&(a[`__${c}`]=void 0)}else if(t==="style")L(a,t,u);else if(t==="autofocus")aa(a,!!u);else if(!v&&(t==="__value"||t==="value"&&u!=null))a.value=a.__value=u;else if(t==="selected"&&y)Aa(a,u);else{var _=t;p||(_=na(_));var $=_==="defaultValue"||_==="defaultChecked";if(u==null&&!v&&!$)if(l[t]=null,_==="value"||_==="checked"){let d=a;const g=r===void 0;if(_==="value"){let c=d.defaultValue;d.removeAttribute(_),d.defaultValue=c,d.value=d.__value=g?c:null}else{let c=d.defaultChecked;d.removeAttribute(_),d.defaultChecked=c,d.checked=g?c:!1}}else a.removeAttribute(t);else $||k.includes(_)&&(v||typeof u!="string")?(a[_]=u,_ in l&&(l[_]=ea)):typeof u!="function"&&L(a,_,u)}}}return S&&P(!0),o}function Ta(a,r,e=[],i=[],s,f=!1,n=!1){X(e,i,h=>{var l=void 0,v={},p=a.nodeName==="SELECT",S=!1;if(V(()=>{var y=r(...h.map(m)),N=Sa(a,l,y,s,f,n);S&&p&&"value"in y&&w(a,y.value);for(let b of Object.getOwnPropertySymbols(v))y[b]||O(v[b]);for(let b of Object.getOwnPropertySymbols(y)){var k=y[b];b.description===x&&(!l||k!==l[b])&&(v[b]&&O(v[b]),v[b]=B(()=>ha(a,()=>k))),N[b]=k}l=N}),p){var o=a;M(()=>{w(o,l.value,!0),D(o)})}S=!0})}function Y(a){return a.__attributes??(a.__attributes={[G]:a.nodeName.includes("-"),[R]:a.namespaceURI===ia})}var H=new Map;function j(a){var r=a.getAttribute("is")||a.nodeName,e=H.get(r);if(e)return e;H.set(r,e=[]);for(var i,s=a,f=Element.prototype;f!==s;){i=fa(s);for(var n in i)i[n].set&&e.push(n);s=ta(s)}return e}export{Ta as a,Ia as b,ga as r,ya as s};
