import{z as o,af as t,ag as i,ah as h,ai as b,aa as m,a9 as k,b as S,P as y,J as c,aj as A}from"./CzeeUJ4l.js";const E=Symbol("is custom element"),M=Symbol("is html");function T(a){if(o){var e=!1,l=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var v=a.value;d(a,"value",null),a.value=v}if(a.hasAttribute("checked")){var r=a.checked;d(a,"checked",null),a.checked=r}}};a.__on_r=l,t(l),i()}}function d(a,e,l,v){var r=L(a);o&&(r[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||r[e]!==(r[e]=l)&&(e==="loading"&&(a[h]=l),a.removeAttribute(e))}function L(a){return a.__attributes??(a.__attributes={[E]:a.nodeName.includes("-"),[M]:a.namespaceURI===b})}function g(a,e,l=e){var v=new WeakSet;m(a,"input",async r=>{var s=r?a.defaultValue:a.value;if(s=f(a)?_(s):s,l(s),c!==null&&v.add(c),await k(),s!==(s=e())){var n=a.selectionStart,u=a.selectionEnd;a.value=s??"",u!==null&&(a.selectionStart=n,a.selectionEnd=Math.min(u,a.value.length))}}),(o&&a.defaultValue!==a.value||S(e)==null&&a.value)&&(l(f(a)?_(a.value):a.value),c!==null&&v.add(c)),y(()=>{var r=e();if(a===document.activeElement){var s=A??c;if(v.has(s))return}f(a)&&r===_(a.value)||a.type==="date"&&!r&&!a.value||r!==a.value&&(a.value=r??"")})}function f(a){var e=a.type;return e==="number"||e==="range"}function _(a){return a===""?null:+a}export{g as b,T as r};
