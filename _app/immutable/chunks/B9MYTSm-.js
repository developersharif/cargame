import{y as g,z as h,A as m,E as D,B as F,H as L,C as R,D as x,F as y,G as C,I as A,J as O,U as q,K as B,L as H,M,N as P,O as U,P as Y,b as z,Q as G,S as J}from"./CzeeUJ4l.js";function Q(e,f,l=!1){h&&m();var i=e,s=null,a=null,r=q,I=l?D:0,d=!1;const N=(c,t=!0)=>{d=!0,v(t,c)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var c=r?s:a,t=r?a:s;c&&H(c),t&&M(t,()=>{r?a=null:s=null})}const v=(c,t)=>{if(r===(r=c))return;let T=!1;if(h){const S=F(i)===L;!!r===S&&(i=R(),x(i),y(!1),T=!0)}var p=B(),u=i;if(p&&(n=document.createDocumentFragment(),n.append(u=C())),r?s??(s=t&&A(()=>t(u))):a??(a=t&&A(()=>t(u))),p){var _=O,E=r?s:a,k=r?a:s;E&&_.skipped_effects.delete(E),k&&_.skipped_effects.add(k),_.add_callback(o)}else o();T&&y(!0)};g(()=>{d=!1,f(N),d||v(null,null)},I),h&&(i=P)}function b(e,f){return e===f||(e==null?void 0:e[J])===f}function Z(e={},f,l,i){return U(()=>{var s,a;return Y(()=>{s=a,a=[],z(()=>{e!==l(...a)&&(f(e,...a),s&&b(l(...s),e)&&f(null,...s))})}),()=>{G(()=>{a&&b(l(...a),e)&&f(null,...a)})}}),e}export{Z as b,Q as i};
